(this.webpackJsonpanuvaad=this.webpackJsonpanuvaad||[]).push([[0],{41:function(e,t,a){e.exports=a(71)},46:function(e,t,a){},47:function(e,t,a){},52:function(e,t){},54:function(e,t){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),s=a.n(l),o=(a(46),a(47),a(1)),i=a(2),c=a(5),u=a(4),g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Anuvaad"),r.a.createElement("p",{className:"lead text-muted"},"Localize your app in global languages"))}}]),a}(r.a.Component),m=a(77),d=a(25),p=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"getFileFromInput",value:function(e){return new Promise((function(t,a){var n=new FileReader;n.onerror=a,n.onload=function(){t(n.result)},n.readAsBinaryString(e)}))}}]),e}(),h=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"getXmlTree",value:function(e){return'{"resources": {"string":'+e+"}}"}}]),e}(),f=function e(){Object(o.a)(this,e)};f.translateText=function(e,t){var a="https://translation.googleapis.com/language/translate/v2?key=AIzaSyAMq9xOA3Yz4ainz4kU9Nw6zCMAHOQid_g&target="+e;return fetch(a+="&q="+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})};var v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"custom-file left-align alert alert-info"},r.a.createElement("input",{id:"logo",type:"file",className:"custom-file-input",onChange:this.props.onFileSelect,accept:".xml",multiple:!1}),r.a.createElement("label",{htmlFor:"logo",className:"custom-file-label text-truncate"},"Select strings.xml file"))}}]),a}(r.a.PureComponent),b=a(78),S=a(38),y=a(74),O=a(79),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),b.a.registerLanguage("xml",S.a),n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm",style:{width:520,overflow:"auto",textAlign:"left"}},r.a.createElement(b.a,{language:"xml",showLineNumbers:!0,style:y.a,customStyle:{height:400}},this.props.code),this.props.progress&&r.a.createElement(O.a,{now:this.props.progress}))}}]),a}(r.a.Component),j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){e.props.handler(e.props.languageCode)},e}return Object(i.a)(a,[{key:"render",value:function(){var e="btn btn-link col-sm";return this.props.isSelected&&(e="btn btn-success col-sm"),r.a.createElement("button",{className:e,name:this.props.languageName,onClick:this.onClick},this.props.languageName)}}]),a}(r.a.PureComponent),A=a(75),w=a(76),C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).rowSize=4,n.lang2DArray=void 0,n.lang2DArray=[];for(var r=e.languageArray.length,l=0,s=0,i=0;i<r;i++)void 0===n.lang2DArray[l]&&(n.lang2DArray[l]=[]),n.lang2DArray[l][s]=e.languageArray[i],n.lang2DArray[l].length===n.rowSize?(s=0,l++):s++;return n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.lang2DArray.map((function(t){return e.renderRow(t)}));return r.a.createElement(A.a,null,t)}},{key:"renderRow",value:function(e){var t=this,a=e.map((function(e){return t.getLanguageButton(e)}));return r.a.createElement(w.a,null,a)}},{key:"getLanguageButton",value:function(e){return r.a.createElement(j,{key:e.code,languageCode:e.code,languageName:e.name,handler:this.props.selectLanguageHandler,isSelected:this.props.selectedLanguageCode===e.code})}}]),a}(r.a.Component),T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.errorMsg?r.a.createElement("div",{className:"alert alert-warning alert"},this.props.errorMsg):null}}]),a}(r.a.Component),x=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).translatedXmlString=void 0,n.translatedString=void 0,n.onLanguageChange=function(e){n.setState({language:e})},n.startTranslation=function(e){n.state.file?(n.translatedXmlString=[],p.getFileFromInput(n.state.file).then((function(e){var t=JSON.parse(Object(d.xml2json)(e,{compact:!0}));n.setState({inputText:e,errorMsg:void 0,translatedText:".....",translationProgress:void 0});var a=t.resources.string.length;t.resources.string.forEach((function(e){e._attributes.translatable?n.translatedXmlString.push(e):f.translateText(n.state.language,e._text).then((function(t){t.json().then((function(t){var r;if(null===(r=t.data)||void 0===r?void 0:r.translations[0])if(e._text=t.data.translations[0].translatedText,n.translatedXmlString.push(e),n.translatedString=Object(d.json2xml)(h.getXmlTree(JSON.stringify(n.translatedXmlString)),{compact:!0,spaces:4}),n.translatedXmlString.length===a-2)n.setState({translatedText:n.translatedString,translationComplete:!0});else{var l=n.translatedXmlString.length/a*100;n.setState({translationProgress:l})}else n.setState({errorMsg:"Something went wrong, please try again."})}))}))}))}))):n.setState({errorMsg:"Please select a file"})},n.onFileInput=function(e){if(e.persist(),e.target.files){var t=e.target.files[0];p.getFileFromInput(t).then((function(e){try{n.setState({file:t,inputText:e})}catch(a){n.setState({errorMsg:"Please select a valid XML. "+a})}}))}},n.state={inputText:"Select your Strings.xml file from resources",translatedText:"Hit 'Translate' to start",language:"es",translationComplete:!1},n.translatedXmlString=[],n.translatedString="",n}return Object(i.a)(a,[{key:"render",value:function(){var e;return this.state.translationComplete&&(e=new Blob([this.state.translatedText],{type:"text/xml"})),r.a.createElement("div",{className:"container"},r.a.createElement(v,{onFileSelect:this.onFileInput}),r.a.createElement("div",null,r.a.createElement(T,{errorMsg:this.state.errorMsg})),this.state.translationComplete&&r.a.createElement("div",{className:"alert alert-success alert"},"String.xml generated successfully. ",r.a.createElement("a",{href:URL.createObjectURL(e),download:"strings.xml"},"Download ")),r.a.createElement("div",{className:"container pt-md-3 pb-md-3 mx-auto"},r.a.createElement("div",{className:"row"},r.a.createElement(E,{code:this.state.inputText}),r.a.createElement(E,{code:this.state.translatedText,progress:this.state.translationProgress}))),r.a.createElement(C,{selectedLanguageCode:this.state.language,languageArray:this.props.languageArray,selectLanguageHandler:this.onLanguageChange}),r.a.createElement("div",{className:"row pt-md-4"},r.a.createElement(m.a,{className:"col-sm",onClick:this.startTranslation,name:"Click Me"},"Translate")))}}]),a}(r.a.Component),N=[{name:"Hindi (\u0939\u093f\u0928\u094d\u0926\u0940)",code:"hi"},{name:"Spanish (espa\xf1ol)",code:"es"},{name:"Chinese (Zh\u014dngw\xe9n)",code:"zh"},{name:"Arabic (\u0627\u064e\u0644\u0652\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u064e\u0651\u0629\u064f)",code:"ar"},{name:"Russian (\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a)",code:"ru"},{name:"German (Deutsch)",code:"de"},{name:"Portugese (portugu\xeas)",code:"pt"}];var k=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GITHUB_TRANSLATION_KEY:"AIzaSyBe2wVQeZjHMw2CtqYW1J32U7Yvf0_AwGU",REACT_APP_LANG_TRANSLATION_API_KEY:"AIzaSyAMq9xOA3Yz4ainz4kU9Nw6zCMAHOQid_g"}).ADSENSE_PUD_ID;return r.a.createElement("div",{className:"App"},r.a.createElement("script",{"data-ad-client":e,async:!0,src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"}),r.a.createElement("a",{className:"github-fork-ribbon",href:"http://github.com/swapnil1104/ReactAnuvaad","data-ribbon":"Star on GitHub",title:"Star on GitHub"},"Star on GitHub"),r.a.createElement(g,null),r.a.createElement(x,{languageArray:N}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.d78de224.chunk.js.map